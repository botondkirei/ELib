proc SCHEMATIC_TDC_cell_1 {} {
make input -name start_in -origin {190 -220}
make input -name stop_in -origin {190 -20}
make output -name sum_out -origin {700 250}
make output -name stop_out -origin {710 -20}
make output -name start_out -origin {690 -220}
make input -name sum_in -origin {200 250}
make myDelay -name xi0 -origin {300 -220}
make add2 -orient RY -name xi1 -origin {550 50}
make add2 -orient RY -name xi2 -origin {630 250}
make gain -orient R90 -name xi3 -gain 0.5 -origin {630 120}
make gain -name xi4 -gain 1 -origin {620 -20}
make reg_double_3 -name xi5 -origin {460 -130}
make constant -name xi6 -consval 1.0 -origin {440 50}
  make_wire 660 250 700 250
  make_wire 520 50 480 50
  make_wire 190 -220 240 -220
  make_wire 520 -140 550 -140
  make_wire 200 250 600 250
  make_wire 630 50 630 80
  make_wire 580 50 630 50
  make_wire 630 220 630 170
  make_wire 670 -20 710 -20
  make_wire 400 -110 360 -110
  make_wire 360 -110 360 -20
  make_wire 360 -20 190 -20
  make_wire 360 -20 580 -20
  make_wire 360 -220 380 -220
  make_wire 380 -220 380 -140
  make_wire 380 -140 400 -140
  make_wire 690 -220 380 -220
  make_wire 550 -140 550 20
}

proc ICON_TDC_cell_1 args {
  icon_setup $args {{origin {0 0}} {orient R0} {name x} {delay 1.0}}
icon_term -type input -origin {-80 -20} -name start_in
icon_term -type input -origin {-80 0} -name stop_in
icon_term -type input -origin {-80 30} -name sum_in
icon_term -type output -origin {80 30} -name sum_out
icon_term -type output -origin {80 0} -name stop_out
icon_term -type output -origin {80 -20} -name start_out
icon_property -origin {-70 -20} -label start_in
icon_property -origin {-70 0} -label stop_in
icon_property -origin {-70 30} -label sum_in
icon_property -origin {70 30} -anchor e -label sum_out
icon_property -origin {70 0} -anchor e -label stop_out
icon_property -origin {70 -20} -anchor e -label start_out
icon_property -origin {-70 -60} -label {$name}
icon_property -origin {-70 -40} -label TDC_cell_1
  icon_line -80 -50 80 -50 80 50 -80 50 -80 -50
icon_property -origin {-70 60} -label {delay=$delay}
  icon_property -origin {-70 120} -type user -name name -default x
  icon_property -origin {-70 140} -type user -name delay -default 1.0
}

