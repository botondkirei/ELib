proc SCHEMATIC_etff_1 {} {
make input -name T -origin {430 20}
make input -name CLK -origin {250 50}
make output -name Q -origin {580 20}
make output -name Qb -origin {580 50}
make tff_delay_1 -name xi0 -delay 2 -origin {500 30}
make pulse_det_1 -name xi1 -delay delay -origin {320 50}
  make_wire 460 20 430 20
  make_wire 460 50 370 50
  make_wire 250 50 280 50
  make_wire 550 20 580 20
  make_wire 550 50 580 50
}

proc ICON_etff_1 args {
  icon_setup $args {{origin {0 0}} {orient R0} {name x} {delay 1.0}}
icon_term -type input -origin {-50 0} -name T
icon_term -type input -origin {-50 20} -name CLK
icon_term -type output -origin {50 0} -name Q
icon_term -type output -origin {50 20} -name Qb
icon_property -origin {-40 0} -label T
icon_property -origin {-40 20} -label CLK
icon_property -origin {40 0} -anchor e -label Q
icon_property -origin {40 20} -anchor e -label Qb
icon_property -origin {-40 -50} -label {$name}
icon_property -origin {-40 -30} -label etff_1
  icon_line -50 -40 50 -40 50 40 -50 40 -50 -40
icon_property -origin {-40 50} -label {delay=$delay}
  icon_property -origin {-40 110} -type user -name name -default x
  icon_property -origin {-40 130} -type user -name delay -default 1.0
}

